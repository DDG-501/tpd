<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Add New Book</title>
        <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
        <h:outputScript library="primefaces" name="jquery/jquery.js"/>

        <f:metadata>
            <f:event type="preRenderView" listener="#{loginGuard.checkAccess}" />
        </f:metadata>
    </h:head>

    <h:body class="bg-gray-100">
        <nav class="bg-blue-500 p-4">
            <div class="container mx-auto">
                <div class="flex items-center justify-between">
                    <h1 class="text-white text-2xl font-bold">Book List</h1>
                    <a href="/TPD_WEB/bookstore.xhtml" class="text-white hover:text-gray-300">Boorrow Book</a>
                    <a href="/TPD_WEB/addBook.xhtml" class="text-white hover:text-gray-300">Add Book</a>
                    <a href="/TPD_WEB/profile.xhtml" class="text-white hover:text-gray-300">Profile</a>
                    <p:commandLink action="#{authentication.logout()}" update="messages">
                        <div class="text-white hover:text-gray-300">Logout</div>
                    </p:commandLink>
                </div>
            </div>
        </nav>

        <div class="container mx-auto my-8">
            <h:form id="addBookForm" class="bg-white p-6 rounded shadow-md">
                <div class="grid grid-cols-2 gap-4">
                    <div class="mb-4">
                        <h:outputLabel for="name" value="Book Name:" class="block text-gray-700 font-bold mb-2" />
                        <h:inputText id="name" value="#{bookBean.book.name}" required="true"
                                     class="w-full border rounded py-2 px-3" />
                    </div>

                    <div class="mb-4">
                        <h:outputLabel for="author" value="Author:" class="block text-gray-700 font-bold mb-2" />
                        <h:inputText id="author" value="#{bookBean.book.author}" required="true"
                                     class="w-full border rounded py-2 px-3" />
                    </div>

                    <div class="mb-4">
                        <h:outputLabel for="publishDate" value="Publish Date:" class="block text-gray-700 font-bold mb-2" />
                        <h:inputText id="publishDate" value="#{bookBean.book.publishDate}" required="true"
                                     class="w-full border rounded py-2 px-3" type="date" pattern="yyyy-MM-dd">
                            <f:convertDateTime pattern="yyyy-MM-dd" />
                        </h:inputText>
                    </div>

                    <div class="mb-4">
                        <h:outputLabel for="description" value="Description:" class="block text-gray-700 font-bold mb-2" />
                        <h:inputTextarea id="description" value="#{bookBean.book.description}"
                                         class="w-full border rounded py-2 px-3" rows="4" />
                    </div>

                    <div class="mb-4">
                        <h:outputLabel for="imageURL" value="Image URL:" class="block text-gray-700 font-bold mb-2" />
                        <h:inputText id="imageURL" value="#{bookBean.book.imageURL}"
                                     class="w-full border rounded py-2 px-3" />
                    </div>

                    <div class="col-span-2">
                        <h:commandButton value="Add Book" action="#{bookBean.addBook}"
                                         class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" />
                    </div>
                </div>
            </h:form>
        </div>

        <p:growl id="messages" life="3000" showDetail="true" autoUpdate="true" closable="true" position="bottom-right" />
    </h:body>
</html>

